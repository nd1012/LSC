async function loadSettings(){const a=Object.assign({},defaultSettings,await api.storage.sync.get(settingsKeys));console.log(a);for(let[b]of Object.entries(a).filter(a=>a[1]))document.getElementById(b).setAttribute("checked","checked");return a}async function storeSettings(){const a={};for(let[b]of Object.entries(settingsKeys).filter(a=>a[1]))a[b]=document.getElementById(b).checked;return await api.storage.sync.set(a),a}window.addEventListener("load",async()=>{await loadSettings();for(let a of settingsKeys)document.getElementById(a).addEventListener("change",async()=>await storeSettings())});