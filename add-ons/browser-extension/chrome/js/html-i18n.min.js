function i18n_translate(a,b){const c={},d=chrome||msBrowser||browser,e=d.i18n?["Title","Alt","Value"]:null;if(!d.i18n)return c;var f,g,h,i,j;for(const k of document.querySelectorAll("*[data-i18ntext],*[data-i18nhtml]")){g=k.hasAttribute("data-i18nhtml"),f=k.getAttribute(g?"data-i18nhtml":"data-i18ntext"),h=k.hasAttribute("data-i18ninfo")?k.getAttribute("data-i18ninfo"):null,i=d.i18n.getMessage(f),""!=i&&b||(c[f]={message:g?k.innerHTML:k.innerText,description:h,html:g,attr:null,missing:""==i}),""==i||a||(g?k.innerHTML=i:k.innerText=i);for(const g of e)k.hasAttribute(g)&&(j=f+g,i=d.i18n.getMessage(j),""!=i&&b||(c[j]={message:k.getAttribute(g),description:null==h?null:h+" ("+g+")",html:!1,attr:g.toLowerCase(),missing:""==i}),""==i||a||k.setAttribute(g,i))}return c}